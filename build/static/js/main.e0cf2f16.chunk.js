(this["webpackJsonpform-plus"]=this["webpackJsonpform-plus"]||[]).push([[0],{260:function(e,t,n){},261:function(e,t,n){},441:function(e,t,n){},444:function(e,t,n){"use strict";n.r(t);var l=n(0),o=n.n(l),a=n(34),i=n.n(a),c=(n(260),n(128)),r=n.n(c),s=n(233),d=n(41),u=(n(261),n(19)),m=n(32),b=n(448),j=n(451),h=n(246),p=n(461),f=n(473),g=n(474),v=n(458),x=n(252),O=n(462),y=n(153),C=n(463),A=n(464),T=n(465),w=n(466),k=n(467),E=n(4),I=function(e){return Object(E.jsxs)(v.a,{mode:"inline",selectedKeys:[],style:{height:"calc(100% - 64px)"},children:[Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(x.a,{}),onClick:function(){e.onSelected&&"function"===typeof e.onSelected&&e.onSelected("input")},children:"\u6587\u672c\u6846"},"input"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(O.a,{}),onClick:function(){e.onSelected&&"function"===typeof e.onSelected&&e.onSelected("richInput")},children:"\u591a\u884c\u6587\u672c\u6846"},"richInput"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(y.a,{}),onClick:function(){e.onSelected&&"function"===typeof e.onSelected&&e.onSelected("radio")},children:"\u5355\u9009"},"radio"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(y.a,{}),onClick:function(){e.onSelected&&"function"===typeof e.onSelected&&e.onSelected("checkBox")},children:"\u590d\u9009"},"checkBox"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(C.a,{}),onClick:function(){e.onSelected&&"function"===typeof e.onSelected&&e.onSelected("listBox")},children:"\u4e0b\u62c9\u9009\u62e9\u5668"},"listBox"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(A.a,{}),onClick:function(){e.onSelected&&"function"===typeof e.onSelected&&e.onSelected("compute")},children:"\u8ba1\u7b97\u63a7\u4ef6"},"compute"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(T.a,{}),onClick:function(){e.onSelected&&"function"===typeof e.onSelected&&e.onSelected("macro")},children:"\u5b8f\u63a7\u4ef6"},"macro"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(w.a,{}),onClick:function(){e.onSelected&&"function"===typeof e.onSelected&&e.onSelected("detailTable")},children:"\u660e\u7ec6\u5b50\u8868"},"detailTable"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(C.a,{}),onClick:function(){e.onSelected&&"function"===typeof e.onSelected&&e.onSelected("treeListBox")},children:"\u7ea7\u8054\u9009\u62e9\u5668"},"treeListBox"),Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(k.a,{}),onClick:function(){e.onSelected&&"function"===typeof e.onSelected&&e.onSelected("image")},children:"\u56fe\u7247"},"image")]})},B=n(449),S=n(459),_=n(76),F=n(457),z=n(454),R=n(453),D=n(469),N=n(470),W=n(471),P=n(472),G=n(443).SketchPicker,L=function(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),o=n[0],a=n[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(h.a,{value:e.value,readOnly:!0,onClick:function(){return a(!0)}}),o?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{style:{position:"fixed",width:"100%",height:"100%",top:0,left:0},onClick:function(){return a(!1)}}),Object(E.jsx)("div",{style:{position:"fixed",zIndex:100},children:Object(E.jsx)(G,{color:e.value,onChange:function(t){var n=t.hex;e.onChange&&"function"===typeof e.onChange&&e.onChange(n)}})})]}):null]})},V=n(447),M=n(455),H=n(253),q=n(468),J=n(110),K=z.a.Option,Y=function(e){var t,n=Object(l.useState)(),o=Object(d.a)(n,2),a=o[0],i=o[1];return Object(E.jsx)(z.a,{labelInValue:!0,showSearch:!0,mode:e.mode,menuItemSelectedIcon:null,value:e.value&&e.value.defualtData?"multiple"==e.mode?e.value.defualtData:null!==(t=e.value.defualtData[0])&&void 0!==t?t:void 0:"multiple"==e.mode?[]:void 0,placeholder:"\u8bf7\u9009\u62e9\u9ed8\u8ba4\u503c",dropdownRender:function(t){return Object(E.jsxs)("div",{children:[t,Object(E.jsx)(V.a,{style:{margin:"4px 0"}}),Object(E.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:[Object(E.jsx)(h.a,{size:"small",style:{flex:"auto"},value:a,onChange:function(e){return i(e.target.value)}}),Object(E.jsxs)("a",{style:{flex:"none",display:"block",cursor:"pointer",marginLeft:10},onClick:function(){if(a&&""!=a.trim()){var t;if(e.onChange&&"function"===typeof e.onChange)e.onChange({defualtData:null===(t=e.value)||void 0===t?void 0:t.defualtData,options:[].concat(Object(m.a)(e.value?e.value.options:[]),[{label:a,value:(new Date).valueOf().toString()}])});i(void 0)}},children:[Object(E.jsx)(H.a,{})," \u6dfb\u52a0\u9009\u9879"]})]})]})},onChange:function(t){e.onChange&&"function"===typeof e.onChange&&("multiple"==e.mode?e.onChange(Object(u.a)(Object(u.a)({},e.value),{},{defualtData:t?t.map((function(e){return{label:void 0!=e.label.props?e.label.props.children[0].props.children:e.label,value:e.value}})):[]})):e.onChange(Object(u.a)(Object(u.a)({},e.value),{},{defualtData:[{label:void 0!=t.label.props?t.label.props.children[0].props.children:t.label,value:t.value}]})))},children:(e.value?e.value.options:[]).map((function(t){return Object(E.jsx)(K,{value:t.label+"|\u25b2|"+t.value,children:Object(E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(E.jsx)("span",{children:t.label}),Object(E.jsx)(q.a,{style:{color:"#1890ff"},onClick:function(n){n.stopPropagation(),M.a.confirm({title:"\u5220\u9664\u9009\u9879",icon:Object(E.jsx)(J.a,{}),content:"\u786e\u8ba4\u5220\u9664\u5417\uff1f\u5220\u9664\u540e\u53ef\u80fd\u5bf9\u5386\u53f2\u6570\u636e\u9020\u6210\u5f71\u54cd\u3002",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var n,l;e.onChange&&"function"===typeof e.onChange&&e.onChange({defualtData:(null!==(n=null===(l=e.value)||void 0===l?void 0:l.defualtData)&&void 0!==n?n:[]).filter((function(e){return t.label+"|\u25b2|"+t.value!=e.value})),options:(e.value?e.value.options:[]).filter((function(e){return e.value!=t.value}))})}})}})]})},t.value)}))})},$=n(81),U=n(450),Q=n(452),X=n(460),Z=function(e){var t,n=Object(l.useState)(!1),o=Object(d.a)(n,2),a=o[0],i=o[1],c=Object(l.useState)([]),r=Object(d.a)(c,1)[0],s=function t(n){var l=e.controlsAttrs.filter((function(e){return e.belongTo==n.name&&e.tableField&&("input"==e.name.split("_")[0]&&"text"!=e.dataType||"detailTable"==e.name.split("_")[0]||"compute"==e.name.split("_")[0])}));if(l.length>0)for(var o=0;o<l.length;o++)n.children.push(t(Object(u.a)(Object(u.a)({},l[o]),{},{children:[]})));return Object(u.a)(Object(u.a)({},n),{},{title:n.describe,key:n.name})},b=[{title:"\u5168\u90e8",key:"\u5168\u90e8",children:e.controlsAttrs.filter((function(e){return("window"==e.belongTo||void 0==e.tableField)&&("input"==e.name.split("_")[0]&&"text"!=e.dataType||"detailTable"==e.name.split("_")[0]||"compute"==e.name.split("_")[0])})).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{children:[]})})).map((function(e){return s(e)}))}];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($.a,{onClick:function(){i(!0)},children:"\u70b9\u51fb\u914d\u7f6e"}),Object(E.jsx)(M.a,{title:"\u8ba1\u7b97\u89c4\u5219\u914d\u7f6e",visible:a,width:800,centered:!0,okButtonProps:{style:{display:"none"}},cancelText:"\u5173\u95ed",onCancel:function(){i(!1)},children:Object(E.jsxs)("div",{style:{display:"flex",height:400},children:[Object(E.jsx)("div",{style:{width:200,borderRight:"1px solid #efefef"},children:Object(E.jsx)(U.a,{treeData:b,height:400,defaultExpandAll:!0,selectedKeys:r,onSelect:function(t,n){if("\u5168\u90e8"!=n.node.key&&"detailTable"!=n.node.key.toString().split("_")[0]&&e.onChange&&"function"===typeof e.onChange){var l,o=e.controlsAttrs.find((function(t){return t.name==e.controlName})),a=o.belongTo==n.node.belongTo&&"window"!=o.belongTo&&n.node.tableField&&o.tableField;e.onChange([].concat(Object(m.a)(null!==(l=e.value)&&void 0!==l?l:[]),[{key:(new Date).valueOf(),type:"control",label:n.node.describe,value:n.node.name,summary:a,summaryStatus:!1,belongTo:n.node.belongTo,tableField:n.node.tableField}]))}}})}),Object(E.jsxs)("div",{style:{flex:1,height:"100%",overflow:"auto",padding:16,paddingTop:0},children:[Object(E.jsxs)(Q.a.Text,{type:"danger",children:["\u6ce8\u610f\uff1a\u70b9\u51fb",Object(E.jsx)(Q.a.Text,{mark:!0,children:"\u5de6\u4fa7\u63a7\u4ef6"}),"\u548c\u4e0b\u65b9",Object(E.jsx)(Q.a.Text,{mark:!0,children:"\u6570\u5b57\u3001\u8fd0\u7b97\u7b26"}),"\u5b8c\u6210\u8ba1\u7b97\u89c4\u5219\u914d\u7f6e\uff1a"]}),Object(E.jsx)("div",{style:{height:152,marginTop:8,background:"linear-gradient(90deg,rgba(211,211,211,.5) 50%,transparent 0),linear-gradient(rgba(211,211,211,.5) 50%,transparent 0)",backgroundSize:"5px 5px"},children:(null!==(t=e.value)&&void 0!==t?t:[]).map((function(t,n){return Object(E.jsxs)(X.a,{style:{cursor:"pointer"},closable:!0,onClose:function(n){var l;(n.preventDefault(),e.onChange&&"function"===typeof e.onChange)&&e.onChange((null!==(l=e.value)&&void 0!==l?l:[]).filter((function(e){return e.key!=t.key})))},onDoubleClick:function(){var n=e.controlsAttrs.find((function(t){return t.name==e.controlName}));if(n.belongTo==t.belongTo&&"window"!=n.belongTo&&t.tableField&&n.tableField&&e.onChange&&"function"===typeof e.onChange){var l,o=e.value,a=(null!==(l=e.value)&&void 0!==l?l:[]).find((function(e){return e.key==t.key}));a.summaryStatus=!a.summaryStatus,e.onChange(o)}},children:[t.label,t.summaryStatus||"window"==t.belongTo?"":"\u5217\u6c47\u603b\u503c"]},n)}))}),Object(E.jsxs)("div",{style:{marginTop:16},children:["\u6570\u5b57\uff1a",new Array(10).fill("").map((function(t,n){return Object(E.jsx)(X.a,{style:{cursor:"pointer"},onClick:function(){var t;e.onChange&&"function"===typeof e.onChange&&e.onChange([].concat(Object(m.a)(null!==(t=e.value)&&void 0!==t?t:[]),[{key:(new Date).valueOf(),type:"num",label:n}]))},children:n},n)})),Object(E.jsx)(X.a,{style:{width:22.47,textAlign:"center",cursor:"pointer"},onClick:function(){var t;e.onChange&&"function"===typeof e.onChange&&e.onChange([].concat(Object(m.a)(null!==(t=e.value)&&void 0!==t?t:[]),[{key:(new Date).valueOf(),type:"num",label:"."}]))},children:"."})]}),Object(E.jsxs)("div",{style:{marginTop:16},children:["\u64cd\u4f5c\uff1a",[{title:"\u52a0",label:"+"},{title:"\u51cf",label:"-"},{title:"\u4e58",label:"\xd7"},{title:"\u9664",label:"\xf7"},{title:"\u53d6\u4f59",label:"%"},{title:"\u5de6\u62ec\u53f7",label:"("},{title:"\u53f3\u62ec\u53f7",label:")"}].map((function(t,n){return Object(E.jsx)(_.a,{title:t.title,placement:"bottom",children:Object(E.jsx)(X.a,{style:{cursor:"pointer"},onClick:function(){var n;e.onChange&&"function"===typeof e.onChange&&e.onChange([].concat(Object(m.a)(null!==(n=e.value)&&void 0!==n?n:[]),[{key:(new Date).valueOf(),type:"operator",label:t.label}]))},children:t.label},n)})}))]}),Object(E.jsx)("br",{}),Object(E.jsx)(Q.a.Text,{children:"\u7279\u522b\u63d0\u9192\uff1a"}),Object(E.jsx)(Q.a.Paragraph,{children:Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:Object(E.jsx)(Q.a.Link,{href:"#",children:"\u660e\u7ec6\u8868\u4e2d\u6570\u503c\u5b57\u6bb5\u53cc\u51fb\u53ef\u5207\u6362\u4e3a\u5f53\u524d\u884c\u7684\u503c\u6216\u5217\u6c47\u603b\u503c\u3002"})}),Object(E.jsx)("li",{children:Object(E.jsx)(Q.a.Link,{href:"#",children:"\u5982\u679c\u8ba1\u7b97\u7684\u7ed3\u679c\u5728\u660e\u7ec6\u8868\u4e4b\u5916\uff0c\u53ea\u80fd\u4e0e\u660e\u7ec6\u8868\u5b57\u6bb5\u6c47\u603b\u503c\u8fdb\u884c\u8ba1\u7b97\u3002"})})]})})]})]})})]})},ee=n(456),te=n(187),ne=n.n(te),le=(n(383),n(384),n(243)),oe=n.n(le),ae={definitions:{children:{type:"object",properties:{label:{type:"string"},value:{type:"string"},disabled:{type:"boolean"},children:{type:"array",items:[{$ref:"#/definitions/children"}],additionalItems:!0}},required:["value"]}},type:"array",items:[{$ref:"#/definitions/children"}],additionalItems:!0},ie=function(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),o=n[0],a=n[1],i=Object(l.useMemo)((function(){var t;if(e.value){try{t=JSON.parse(e.value.options.replace(/[\r\n]/g,"").trim())}catch(l){t=[]}var n=(new oe.a).compile(ae)(t);return Object(E.jsx)(ee.a,{disabled:!n,placeholder:n?"\u8bf7\u9009\u62e9\u9ed8\u8ba4\u503c":"\u6570\u636e\u683c\u5f0f\u4e0d\u6b63\u786e",options:n?t:[],onChange:function(t,n){e.onChange&&"function"===typeof e.onChange&&e.onChange(Object(u.a)(Object(u.a)({},e.value),{},{defaultData:n}))}})}}),[e.value]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($.a,{type:"primary",style:{width:90,marginBottom:2},onClick:function(){return a(!0)},children:"\u6dfb\u52a0\u9009\u9879"}),i,Object(E.jsxs)(M.a,{title:"\u6dfb\u52a0\u9009\u9879",visible:o,width:800,centered:!0,okButtonProps:{style:{display:"none"}},cancelText:"\u5173\u95ed",onCancel:function(){a(!1)},children:[Object(E.jsxs)(Q.a.Paragraph,{children:["\u8bf7\u5728\u7b2c\u4e8c\u4e2a\u7f16\u8f91\u5668\u4e2d\u901a\u8fc7",Object(E.jsx)(Q.a.Text,{code:!0,children:"JSON"}),"\u7684\u65b9\u5f0f\u914d\u7f6e\u4f60\u7684\u7ea7\u8054\u9009\u62e9\u5668\u6570\u636e\u6e90\uff0c\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728\u9009\u9879\u4e2d\u67e5\u770b\u3002\u683c\u5f0f\u5982\u4e0b\uff1a"]}),Object(E.jsx)("div",{style:{border:"1px solid #efefef"},children:Object(E.jsx)(ne.a,{readOnly:!0,mode:"json",theme:"xcode",fontSize:12,value:'[\n    {\n        "value":"",         /**\u5fc5\u987b*/\n        "label":"",         /**\u975e\u5fc5\u987b[\u5efa\u8bae\u914d\u7f6e]*/\n        "disabled":false,   /**\u975e\u5fc5\u987b*/\n        "children":[        /**\u975e\u5fc5\u987b*/\n            {\n            "value":"",\n            "label":"",\n            },\n            {\n            "value":"",\n            "label":"",\n            "children":[\n                {\n                    "value":"",\n                    "label":"",\n                },\n                {\n                    "value":"",\n                    "label":"",\n                },\n                ...\n            ]\n            },\n            ...\n        ]\n    },\n    {\n        "value":"",\n        "label":"",\n    },\n    ...\n]',style:{width:"100%",height:200}})}),Object(E.jsx)(Q.a.Title,{level:5,style:{marginTop:8},children:"\u4f60\u7684\u914d\u7f6e\uff1a"}),Object(E.jsx)("div",{style:{border:"1px solid #efefef"},children:Object(E.jsx)(ne.a,{mode:"json",theme:"xcode",fontSize:12,onChange:function(t,n){e.onChange&&"function"===typeof e.onChange&&e.onChange(Object(u.a)(Object(u.a)({},e.value),{},{options:t}))},value:e.value?e.value.options:"",style:{width:"100%",height:200,marginTop:0}})})]})]})},ce=b.a.Sider,re=function(e){var t,n=o.a.createRef();return Object(l.useEffect)((function(){e.controlElement&&e.controlAttrs&&n.current.setFieldsValue(Object(u.a)(Object(u.a)({},e.controlAttrs),"detailTable"==e.controlAttrs.name.split("_")[0]?{fieldTR:void 0!=e.controlAttrs.fieldTR&&null!=e.controlAttrs.fieldTR.getAttribute("detail-field")}:{}))}),[e.controlAttrs,e.controlElement]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce,{theme:"light",width:300,trigger:null,collapsible:!0,collapsed:!1,children:Object(E.jsxs)(B.a,{size:"small",title:"\u5c5e\u6027",bodyStyle:{height:"calc(100vh - 104px)"},children:[e.controlElement&&e.controlAttrs&&"detailTable"!=e.controlAttrs.name.split("_")[0]&&"image"!=e.controlAttrs.name.split("_")[0]?Object(E.jsxs)(j.a,{ref:n,size:"small",labelCol:{span:6},wrapperCol:{span:18},labelAlign:"left",onValuesChange:function(t){e.onValuesChange&&"function"===typeof e.onValuesChange&&e.onValuesChange(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e.controlAttrs),t),t.controlType?{macroConfig:void 0}:{}),t.dataType?{format:void 0}:{}))},children:[Object(E.jsx)(j.a.Item,{name:"name",label:"\u63a7\u4ef6\u540d\u79f0",style:{marginBottom:2},children:Object(E.jsx)(h.a,{disabled:!0})}),Object(E.jsx)(j.a.Item,{name:"border",label:"\u8fb9\u6846",tooltip:"\u9f20\u6807\u79fb\u81f3\u5b57\u6bcd\u5904\u663e\u793a\u63d0\u793a\u8bed",style:{marginBottom:2},children:Object(E.jsx)(S.a.Group,{options:[{label:Object(E.jsx)(_.a,{title:"\u4e0a\u8fb9\u6846",children:"T"}),value:"top"},{label:Object(E.jsx)(_.a,{title:"\u53f3\u8fb9\u6846",children:"R"}),value:"right"},{label:Object(E.jsx)(_.a,{title:"\u4e0b\u8fb9\u6846",children:"B"}),value:"bottom"},{label:Object(E.jsx)(_.a,{title:"\u5de6\u8fb9\u6846",children:"L"}),value:"left"}],onChange:function(t){e.controlElement&&(e.controlElement.style.border="none",t.includes("top")&&(e.controlElement.style.borderTop="1px solid #333"),t.includes("right")&&(e.controlElement.style.borderRight="1px solid #333"),t.includes("bottom")&&(e.controlElement.style.borderBottom="1px solid #333"),t.includes("left")&&(e.controlElement.style.borderLeft="1px solid #333"))}})}),Object(E.jsx)(j.a.Item,{name:"describe",label:"\u63cf\u8ff0\u540d\u79f0",style:{marginBottom:2},children:Object(E.jsx)(h.a,{onChange:function(t){e.controlElement&&(e.controlElement.innerHTML=t.target.value)}})}),"input"==e.controlAttrs.name.split("_")[0]||"richInput"==e.controlAttrs.name.split("_")[0]?Object(E.jsx)(j.a.Item,{name:"text",label:"\u9ed8\u8ba4\u6587\u672c",style:{marginBottom:2},children:Object(E.jsx)(h.a,{})}):null,"input"==e.controlAttrs.name.split("_")[0]||"compute"==e.controlAttrs.name.split("_")[0]?Object(E.jsx)(j.a.Item,{name:"dataType",label:"\u6570\u636e\u7c7b\u578b",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[].concat(Object(m.a)("input"==e.controlAttrs.name.split("_")[0]?[{label:"\u6587\u672c",value:"text"}]:[]),[{label:"\u6574\u6570",value:"integer"},{label:"\u5c0f\u6570",value:"decimal"},{label:"\u65f6\u95f4",value:"datetime"}]),optionType:"button"})}):null,"input"!=e.controlAttrs.name.split("_")[0]&&"compute"!=e.controlAttrs.name.split("_")[0]||"integer"!=e.controlAttrs.dataType?null:Object(E.jsx)(j.a.Item,{name:"format",label:"\u683c\u5f0f\u5316",style:{marginBottom:2},children:Object(E.jsxs)(z.a,{children:[Object(E.jsx)(z.a.Option,{value:"#,###",children:"#,###"}),Object(E.jsx)(z.a.Option,{value:"#",children:"#"})]})}),"input"!=e.controlAttrs.name.split("_")[0]&&"compute"!=e.controlAttrs.name.split("_")[0]||"decimal"!=e.controlAttrs.dataType?null:Object(E.jsx)(j.a.Item,{name:"format",label:"\u683c\u5f0f\u5316",style:{marginBottom:2},children:Object(E.jsxs)(z.a,{children:[Object(E.jsx)(z.a.Option,{value:"#.#",children:"#.#"}),Object(E.jsx)(z.a.Option,{value:"#.##",children:"#.##"}),Object(E.jsx)(z.a.Option,{value:"#.###",children:"#.###"}),Object(E.jsx)(z.a.Option,{value:"#.####",children:"#.####"}),Object(E.jsx)(z.a.Option,{value:"#.*",children:"#.####"}),Object(E.jsx)(z.a.Option,{value:"#,###.#",children:"#.#"}),Object(E.jsx)(z.a.Option,{value:"#,###.##",children:"#.##"}),Object(E.jsx)(z.a.Option,{value:"#,###.###",children:"#.###"}),Object(E.jsx)(z.a.Option,{value:"#,###.####",children:"#.####"}),Object(E.jsx)(z.a.Option,{value:"#,###.*",children:"#.####"})]})}),"input"!=e.controlAttrs.name.split("_")[0]&&"compute"!=e.controlAttrs.name.split("_")[0]||"datetime"!=e.controlAttrs.dataType?null:Object(E.jsx)(j.a.Item,{name:"format",label:"\u683c\u5f0f\u5316",style:{marginBottom:2},children:Object(E.jsx)(h.a,{})}),Object(E.jsx)(j.a.Item,{name:"autoWidth",label:"\u9002\u5bbd",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}],optionType:"button",onChange:function(t){e.controlElement&&e.controlAttrs&&(t.target.value?e.controlElement.style.width="100%":e.controlElement.style.width=e.controlAttrs.width+"px")}})}),Object(E.jsx)(j.a.Item,{name:"width",label:"\u5bbd\u5ea6",style:{marginBottom:2},children:Object(E.jsx)(R.a,{onChange:function(t){e.controlElement&&e.controlAttrs&&(e.controlElement.style.width=t?t+"px":e.controlAttrs.width+"px")},disabled:e.controlAttrs.autoWidth})}),Object(E.jsx)(j.a.Item,{name:"height",label:"\u9ad8\u5ea6",style:{marginBottom:2},children:Object(E.jsx)(R.a,{onChange:function(t){e.controlElement&&e.controlAttrs&&(e.controlElement.style.height=t?t+"px":e.controlAttrs.height+"px")}})}),Object(E.jsx)(j.a.Item,{name:"align",label:"\u5bf9\u9f50\u65b9\u5f0f",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:Object(E.jsx)(D.a,{}),value:"left"},{label:Object(E.jsx)(N.a,{}),value:"center"},{label:Object(E.jsx)(W.a,{}),value:"right"}],optionType:"button",onChange:function(t){e.controlElement&&e.controlElement.style.setProperty("text-align",t.target.value,"important")}})}),Object(E.jsx)(j.a.Item,{name:"bold",label:"\u52a0\u7c97",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}],optionType:"button",onChange:function(t){e.controlElement&&(t.target.value?e.controlElement.style.setProperty("font-weight","600","important"):e.controlElement.style.removeProperty("font-weight"))}})}),Object(E.jsx)(j.a.Item,{name:"italic",label:"\u659c\u4f53",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}],optionType:"button",onChange:function(t){e.controlElement&&(t.target.value?e.controlElement.style.setProperty("font-style","italic","important"):e.controlElement.style.removeProperty("font-style"))}})}),Object(E.jsx)(j.a.Item,{name:"color",label:"\u989c\u8272",style:{marginBottom:2},children:Object(E.jsx)(L,{onChange:function(t){e.controlElement&&e.controlElement.style.setProperty("color",t,"important")}})}),Object(E.jsx)(j.a.Item,{name:"fontFamily",label:"\u5b57\u4f53",style:{marginBottom:2},children:Object(E.jsxs)(z.a,{onChange:function(t){e.controlElement&&e.controlElement.style.setProperty("font-family",t,"important")},children:[Object(E.jsx)(z.a.Option,{value:"\u5fae\u8f6f\u96c5\u9ed1",children:"\u5fae\u8f6f\u96c5\u9ed1"}),Object(E.jsx)(z.a.Option,{value:"\u5b8b\u4f53",children:"\u5b8b\u4f53"})]})}),Object(E.jsx)(j.a.Item,{name:"fontSize",label:"\u5b57\u53f7(px)",style:{marginBottom:2},children:Object(E.jsx)(R.a,{onChange:function(t){e.controlElement&&(t?e.controlElement.style.setProperty("font-size",t+"px","important"):e.controlElement.style.removeProperty("font-size"))}})}),"richInput"==e.controlAttrs.name.split("_")[0]?Object(E.jsx)(j.a.Item,{name:"editControl",label:"\u7f16\u8f91\u63a7\u4ef6",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:"\u6587\u672c\u6846",value:"textarea"},{label:"\u7f16\u8f91\u5668",value:"editor"}],optionType:"button"})}):null,"listBox"==e.controlAttrs.name.split("_")[0]||"radio"==e.controlAttrs.name.split("_")[0]||"checkBox"==e.controlAttrs.name.split("_")[0]?Object(E.jsx)(j.a.Item,{name:"options",label:"\u9009\u9879",style:{marginBottom:2},children:Object(E.jsx)(Y,{mode:"checkBox"==e.controlAttrs.name.split("_")[0]||"listBox"==e.controlAttrs.name.split("_")[0]&&e.controlAttrs.multiple?"multiple":void 0})}):null,"listBox"==e.controlAttrs.name.split("_")[0]?Object(E.jsx)(j.a.Item,{name:"multiple",label:"\u591a\u9009",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}],optionType:"button"})}):null,"radio"==e.controlAttrs.name.split("_")[0]||"checkBox"==e.controlAttrs.name.split("_")[0]?Object(E.jsx)(j.a.Item,{name:"layout",label:"\u5c55\u793a",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:"\u6a2a\u6392",value:"horizontal"},{label:"\u7ad6\u6392",value:"vertical"},{label:"\u4e0b\u62c9\u9009\u62e9\u5668",value:"select"}],optionType:"button"})}):null,"compute"==e.controlAttrs.name.split("_")[0]?Object(E.jsx)(j.a.Item,{name:"roundType",label:"\u8fdb\u4f4d\u6cd5",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:"\u8fdb\u4e00\u6cd5",value:"roundUp"},{label:"\u56db\u820d\u4e94\u5165\u6cd5",value:"round"},{label:"\u53bb\u5c3e\u6cd5",value:"roundDown"}],optionType:"button"})}):null,"compute"==e.controlAttrs.name.split("_")[0]?Object(E.jsx)(j.a.Item,{name:"computeRule",label:"\u8ba1\u7b97\u89c4\u5219",style:{marginBottom:2},children:Object(E.jsx)(Z,{controlName:e.controlAttrs.name,controlsAttrs:e.controlsAttrs})}):null,"macro"==e.controlAttrs.name.split("_")[0]?Object(E.jsx)(j.a.Item,{name:"controlType",label:"\u63a7\u4ef6\u7c7b\u578b",style:{marginBottom:2},children:Object(E.jsx)(z.a,{children:e.macroControlsConfig.map((function(e,t){return Object(E.jsx)(z.a.Option,{value:e.name,children:e.name},t)}))})}):null,null===(t=e.macroControlsConfig.find((function(t){return e.controlAttrs&&t.name==e.controlAttrs.controlType})))||void 0===t?void 0:t.configComponent,"treeListBox"==e.controlAttrs.name.split("_")[0]?Object(E.jsx)(j.a.Item,{name:"options",label:"\u9009\u9879",style:{marginBottom:2},children:Object(E.jsx)(ie,{})}):null,Object(E.jsx)(j.a.Item,{name:"allowedModify",label:"\u5141\u8bb8\u4fee\u6539",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}],optionType:"button",onChange:function(t){e.controlElement&&(t.target.value?e.controlElement.removeAttribute("disabled"):e.controlElement.setAttribute("disabled","disabled"))}})})]}):null,e.controlElement&&e.controlAttrs&&"detailTable"==e.controlAttrs.name.split("_")[0]?Object(E.jsxs)(j.a,{ref:n,size:"small",labelCol:{span:6},wrapperCol:{span:18},labelAlign:"left",onValuesChange:function(t){e.onValuesChange&&"function"===typeof e.onValuesChange&&e.onValuesChange(Object(u.a)(Object(u.a)({},e.controlAttrs),t))},children:[Object(E.jsx)(j.a.Item,{name:"name",label:"\u63a7\u4ef6\u540d\u79f0",style:{marginBottom:2},children:Object(E.jsx)(h.a,{disabled:!0})}),Object(E.jsx)(j.a.Item,{name:"describe",label:"\u63cf\u8ff0\u540d\u79f0",style:{marginBottom:2},children:Object(E.jsx)(h.a,{onChange:function(t){e.controlElement&&e.controlElement.setAttribute("title",t.target.value)}})}),void 0!=e.controlAttrs.fieldTR?Object(E.jsx)(j.a.Item,{name:"fieldTR",label:"\u5f55\u5165\u884c",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}],optionType:"button",onChange:function(t){if(e.controlElement&&e.controlAttrs)if(t.target.value){for(var n=e.controlElement.getElementsByTagName("tr"),l=0;l<n.length;l++)n[l].removeAttribute("detail-field");e.controlAttrs.fieldTR&&e.controlAttrs.fieldTR.setAttribute("detail-field","true")}else e.controlAttrs.fieldTR&&e.controlAttrs.fieldTR.removeAttribute("detail-field")}})}):null]}):null,e.controlElement&&e.controlAttrs&&"image"==e.controlAttrs.name.split("_")[0]?Object(E.jsxs)(j.a,{ref:n,size:"small",labelCol:{span:6},wrapperCol:{span:18},labelAlign:"left",onValuesChange:function(t){e.onValuesChange&&"function"===typeof e.onValuesChange&&e.onValuesChange(Object(u.a)(Object(u.a)({},e.controlAttrs),t))},children:[Object(E.jsx)(j.a.Item,{name:"name",label:"\u63a7\u4ef6\u540d\u79f0",style:{marginBottom:2},children:Object(E.jsx)(h.a,{disabled:!0})}),Object(E.jsx)(j.a.Item,{name:"border",label:"\u8fb9\u6846",tooltip:"\u9f20\u6807\u79fb\u81f3\u5b57\u6bcd\u5904\u663e\u793a\u63d0\u793a\u8bed",style:{marginBottom:2},children:Object(E.jsx)(S.a.Group,{options:[{label:Object(E.jsx)(_.a,{title:"\u4e0a\u8fb9\u6846",children:"T"}),value:"top"},{label:Object(E.jsx)(_.a,{title:"\u53f3\u8fb9\u6846",children:"R"}),value:"right"},{label:Object(E.jsx)(_.a,{title:"\u4e0b\u8fb9\u6846",children:"B"}),value:"bottom"},{label:Object(E.jsx)(_.a,{title:"\u5de6\u8fb9\u6846",children:"L"}),value:"left"}],onChange:function(t){e.controlElement&&(e.controlElement.style.border="none",t.includes("top")&&(e.controlElement.style.borderTop="1px solid #333"),t.includes("right")&&(e.controlElement.style.borderRight="1px solid #333"),t.includes("bottom")&&(e.controlElement.style.borderBottom="1px solid #333"),t.includes("left")&&(e.controlElement.style.borderLeft="1px solid #333"))}})}),Object(E.jsx)(j.a.Item,{name:"describe",label:"\u63cf\u8ff0\u540d\u79f0",style:{marginBottom:2},children:Object(E.jsx)(h.a,{onChange:function(t){e.controlElement&&e.controlElement.setAttribute("title",t.target.value)}})}),Object(E.jsx)(j.a.Item,{name:"autoWidth",label:"\u9002\u5bbd",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{options:[{label:"\u5426",value:!1},{label:"\u662f",value:!0}],optionType:"button",onChange:function(t){e.controlElement&&e.controlAttrs&&(t.target.value?e.controlElement.style.width="100%":e.controlElement.style.width=e.controlAttrs.width+"px")}})}),Object(E.jsx)(j.a.Item,{name:"width",label:"\u5bbd\u5ea6",style:{marginBottom:2},children:Object(E.jsx)(R.a,{onChange:function(t){e.controlElement&&e.controlAttrs&&(e.controlElement.style.width=t?t+"px":e.controlAttrs.width+"px")},disabled:e.controlAttrs.autoWidth})}),Object(E.jsx)(j.a.Item,{name:"height",label:"\u9ad8\u5ea6",style:{marginBottom:2},children:Object(E.jsx)(R.a,{onChange:function(t){e.controlElement&&e.controlAttrs&&(e.controlElement.style.height=t?t+"px":e.controlAttrs.height+"px")}})})]}):null]})}),Object(E.jsx)(ce,{collapsedWidth:40,theme:"light",trigger:null,collapsible:!0,collapsed:!0,style:{height:"calc(100vh - 68px)"},children:Object(E.jsx)(v.a,{mode:"inline",selectedKeys:[],style:{height:"100%"},children:Object(E.jsx)(v.a.Item,{icon:Object(E.jsx)(P.a,{}),children:"\u5c5e\u6027"},"1")})})]})},se=n(248);function de(e){for(var t=e.parentElement;t;){if("BODY"===t.tagName)return"window";if("mceTmpl"===t.className)return t.id;t=t.parentElement}}function ue(e){for(var t=e.parentElement;t;){if("BODY"===t.tagName)return;if("mceTmpl"===t.className)return t;t=t.parentElement}}function me(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].id);return t}var be=b.a.Content,je=function(e){var t=Object(l.useRef)(null);return Object(l.useEffect)((function(){if(e.controlType)switch(e.controlType.split("_")[0]){case"input":t.current.editor.execCommand("mceInsertContent",!1,'<control id="'+e.controlType+'" class="mceTmpl" style="width:100px;height:22px;" contenteditable="false">\u6587\u672c\u6846</control>');break;case"richInput":t.current.editor.execCommand("mceInsertContent",!1,'<control id="'+e.controlType+'" class="mceTmpl" style="width:150px;height:100px;" contenteditable="false">\u591a\u884c\u6587\u672c\u6846</control>');break;case"radio":t.current.editor.execCommand("mceInsertContent",!1,'<control id="'+e.controlType+'" class="mceTmpl" style="width:100px;height:22px;" contenteditable="false">\u5355\u9009</control>');break;case"checkBox":t.current.editor.execCommand("mceInsertContent",!1,'<control id="'+e.controlType+'" class="mceTmpl" style="width:100px;height:22px;" contenteditable="false">\u590d\u9009</control>');break;case"listBox":t.current.editor.execCommand("mceInsertContent",!1,'<control id="'+e.controlType+'" class="mceTmpl" style="width:100px;height:22px;" contenteditable="false">\u4e0b\u62c9\u9009\u62e9\u5668</control>');break;case"compute":t.current.editor.execCommand("mceInsertContent",!1,'<control id="'+e.controlType+'" class="mceTmpl" style="width:100px;height:22px;" contenteditable="false">\u8ba1\u7b97\u63a7\u4ef6</control>');break;case"macro":t.current.editor.execCommand("mceInsertContent",!1,'<control id="'+e.controlType+'" class="mceTmpl" style="width:100px;height:22px;" contenteditable="false" disabled="disabled">\u5b8f\u63a7\u4ef6</control>');break;case"detailTable":t.current.editor.execCommand("mceInsertContent",!1,'<table id="'+e.controlType+'" style="font-size:16px;" class="mceTmpl" width="100%" data-field="detail-table" border="1" cellspacing="0" cellpadding="0"><tr><th scope="col"> </th><th scope="col"> </th></tr><tr><td> </td><td> </td></tr></table>');break;case"treeListBox":t.current.editor.execCommand("mceInsertContent",!1,'<control id="'+e.controlType+'" class="mceTmpl" style="width:100px;height:22px;" contenteditable="false">\u7ea7\u8054\u9009\u62e9\u5668</control>');break;case"image":t.current.editor.execCommand("mceInsertContent",!1,'<control id="'+e.controlType+'" class="mceTmpl" style="width:100px;height:100px;" contenteditable="false">\u56fe\u7247</control>')}}),[e.controlType]),Object(E.jsx)(be,{style:{minHeight:280,height:"calc(100vh - 65px)",overflow:"auto",textAlign:"center",boxSizing:"border-box"},children:Object(E.jsx)(se.a,{ref:t,apiKey:"m3zkfg08keg9n2obr4mi4uqn81y0utl31lgi3m39tr5e5ssm",init:{height:document.body.clientHeight-65,plugins:"print preview importcss tinydrive searchreplace autolink autosave save directionality visualblocks visualchars fullscreen image link media codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap emoticons",contextmenu:"",menu:{tc:{title:"TinyComments",items:"addcomment showcomments deleteallconversations"}},menubar:"file edit view insert format tools table tc help",toolbar:" undo redo | bold italic | forecolor backcolor | template codesample | alignleft aligncenter alignright alignjustify | bullist numlist | link image insertfile tinydrive",quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",noneditable_noneditable_class:"mceNonEditable",tinycomments_mode:"embedded",content_style:"html{\n                        background-color:#f0f2f5;\n                        text-align: center;\n                    }\n                    body{\n                        min-width:794px;\n                        background-color: #ffffff;\n                        padding:14px;\n                        display:inline-block;\n                        text-align: left;\n                        font-family:\"\u5b8b\u4f53\"\n                    }\n                    p{}\n                    .mceTmpl[disabled]{\n                        background: repeating-linear-gradient( \n                            45deg\n                            , rgb(0 0 0 / 30%), rgb(0 0 0 / 30%) 2px, #fff 2px, #fff 5px );\n                    }\n                    .mceTmpl tr[detail-field]{\n                        background: repeating-linear-gradient( \n                            45deg\n                            , rgb(76 207 134 / 30%), rgb(76 207 134 / 30%) 2px, #fff 2px, #fff 5px );\n                    }\n                    control[class='mceTmpl']{\n                        background-color:#f7f7f7!important;\n                        display:inline-block!important;\n                        font-size:16px!important;\n                        overflow: hidden!important;\n                        text-overflow: ellipsis!important;\n                        white-space: nowrap!important;\n                        font-weight:initial!important;\n                        font-style: initial!important;\n                        color:#000000!important;\n                        text-align:left!important;\n                        font-family:'\u5b8b\u4f53'!important;\n                        vertical-align: bottom;\n                    }\n                    ",language:"zh_CN",extended_valid_elements:"control[disabled|id|class|style|contenteditable]"},onEditorChange:function(t,n){for(var l=document.getElementsByClassName("tox-edit-area__iframe")[0].contentWindow.document.getElementsByClassName("mceTmpl"),o=[],a=0;a<l.length;a++)o.push({belongTo:de(l[a]),name:l[a].id});e.onEditorChange&&"function"===typeof e.onEditorChange&&e.onEditorChange(t,o)},onInit:function(){},onClick:function(t){if((t=t||window.event).srcElement&&"mceTmpl"===t.srcElement.className)e.onControlSelect&&"function"===typeof e.onControlSelect&&e.onControlSelect(t.srcElement,t.srcElement);else{var n=ue(t.srcElement);ue(t.srcElement)&&n&&"mceTmpl"===n.className?e.onControlSelect&&"function"===typeof e.onControlSelect&&e.onControlSelect(ue(t.srcElement),t.srcElement):e.onControlSelect&&"function"===typeof e.onControlSelect&&e.onControlSelect()}}})})},he=(n(441),function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(j.a.Item,{label:"\u91d1\u989d\u5b57\u6bb5",style:{marginBottom:2},children:Object(E.jsx)(z.a,{value:e.value?e.value.priceField:void 0,onChange:function(t){e.onChange&&"function"===typeof e.onChange&&e.onChange(Object(u.a)(Object(u.a)({},e.value),{},{priceField:t}))},children:e.controlsAttrs.filter((function(e){return"input"==e.name.split("_")[0]&&"text"!=e.dataType||"compute"==e.name.split("_")[0]})).map((function(e,t){return Object(E.jsx)(z.a.Option,{value:e.name,children:e.describe},t)}))})}),Object(E.jsx)(j.a.Item,{label:"\u8f6c\u6362\u7cbe\u5ea6",style:{marginBottom:2},children:Object(E.jsxs)(z.a,{value:e.value?e.value.precision:void 0,onChange:function(t){e.onChange&&"function"===typeof e.onChange&&e.onChange(Object(u.a)(Object(u.a)({},e.value),{},{precision:t}))},children:[Object(E.jsx)(z.a.Option,{value:"\u5706",children:"\u5706"}),Object(E.jsx)(z.a.Option,{value:"\u89d2",children:"\u89d2"}),Object(E.jsx)(z.a.Option,{value:"\u5206",children:"\u5206"}),Object(E.jsx)(z.a.Option,{value:"\u5398",children:"\u5398"}),Object(E.jsx)(z.a.Option,{value:"\u6beb",children:"\u6beb"})]})})]})}),pe=function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(j.a.Item,{label:"\u8f6c\u7801\u5b57\u6bb5",style:{marginBottom:2},children:Object(E.jsx)(z.a,{value:e.value?e.value.transField:void 0,onChange:function(t){e.onChange&&"function"===typeof e.onChange&&e.onChange(Object(u.a)(Object(u.a)({},e.value),{},{transField:t}))},children:e.controlsAttrs.map((function(e,t){return Object(E.jsx)(z.a.Option,{value:e.name,children:e.describe},t)}))})}),Object(E.jsx)(j.a.Item,{label:"\u9009\u62e9\u7c7b\u578b",style:{marginBottom:2},children:Object(E.jsx)(F.a.Group,{value:e.value?e.value.scanCodeType:void 0,options:[{label:"\u6761\u7801",value:"barcode"},{label:"\u4e8c\u7ef4\u7801",value:"qrcode"}],optionType:"button",onChange:function(t){e.onChange&&"function"===typeof e.onChange&&e.onChange(Object(u.a)(Object(u.a)({},e.value),{},{scanCodeType:t.target.value}))}})})]})},fe=(n(442),b.a.Header),ge=b.a.Sider,ve=b.a.Content,xe=function(e){var t,n,a,i,c,r,s,v,x=Object(l.useState)(!1),O=Object(d.a)(x,2),y=O[0],C=O[1],A=Object(l.useState)(),T=Object(d.a)(A,2),w=T[0],k=T[1],B=Object(l.useState)([]),S=Object(d.a)(B,2),_=S[0],F=S[1],z=Object(l.useState)(),R=Object(d.a)(z,2),D=R[0],N=R[1],W=[{name:"\u5f53\u524d\u5e74\u4efd",data:{},configComponent:Object(E.jsx)(j.a.Item,{name:"macroConfig",label:"\u63a7\u4ef6\u914d\u7f6e",style:{marginBottom:2},children:Object(E.jsx)(h.a,{})})},{name:"\u5f53\u524d\u6708\u4efd",data:{},configComponent:Object(E.jsx)(j.a.Item,{name:"macroConfig",label:"\u63a7\u4ef6\u914d\u7f6e",style:{marginBottom:2},children:Object(E.jsx)(h.a,{})})},{name:"\u5f53\u524d\u5b63\u5ea6",data:{},configComponent:Object(E.jsx)(j.a.Item,{name:"macroConfig",label:"\u63a7\u4ef6\u914d\u7f6e",style:{marginBottom:2},children:Object(E.jsx)(h.a,{})})},{name:"\u5f53\u524d\u65e5\u671f",data:{},configComponent:Object(E.jsx)(j.a.Item,{name:"macroConfig",label:"\u63a7\u4ef6\u914d\u7f6e",style:{marginBottom:2},children:Object(E.jsx)(h.a,{})})},{name:"\u5f53\u524d\u65f6\u95f4",data:{},configComponent:Object(E.jsx)(j.a.Item,{name:"macroConfig",label:"\u63a7\u4ef6\u914d\u7f6e",style:{marginBottom:2},children:Object(E.jsx)(h.a,{})})},{name:"\u6d41\u7a0b\u540d\u79f0",data:{},configComponent:Object(E.jsx)(E.Fragment,{})},{name:"\u53d1\u8d77\u4eba\u90e8\u95e8",data:{},configComponent:Object(E.jsx)(E.Fragment,{})},{name:"\u53d1\u8d77\u4eba\u804c\u4f4d",data:{},configComponent:Object(E.jsx)(E.Fragment,{})},{name:"\u53d1\u8d77\u4eba\u5c97\u4f4d",data:{},configComponent:Object(E.jsx)(E.Fragment,{})},{name:"\u5f53\u524d\u5904\u7406\u4eba\u540d\u79f0",data:{},configComponent:Object(E.jsx)(E.Fragment,{})},{name:"\u5f53\u524d\u5904\u7406\u4eba\u90e8\u95e8",data:{},configComponent:Object(E.jsx)(E.Fragment,{})},{name:"\u5f53\u524d\u5904\u7406\u4eba\u804c\u4f4d",data:{},configComponent:Object(E.jsx)(E.Fragment,{})},{name:"\u5f53\u524d\u5904\u7406\u4eba\u5c97\u4f4d",data:{},configComponent:Object(E.jsx)(E.Fragment,{})},{name:"\u6d41\u7a0b\u7f16\u53f7",data:{},configComponent:Object(E.jsx)(E.Fragment,{})},{name:"\u53d1\u8d77\u4eba\u540d\u79f0",data:{},configComponent:Object(E.jsx)(E.Fragment,{})},{name:"\u91d1\u989d\u5927\u5199",data:{},configComponent:Object(E.jsx)(j.a.Item,{name:"macroConfig",label:"\u63a7\u4ef6\u914d\u7f6e",style:{marginBottom:2},children:Object(E.jsx)(he,{controlsAttrs:null!==(t=null===(n=e.value)||void 0===n?void 0:n.controlsAttrs)&&void 0!==t?t:[]})})},{name:"\u626b\u63cf\u7801",data:{},configComponent:Object(E.jsx)(j.a.Item,{name:"macroConfig",label:"\u63a7\u4ef6\u914d\u7f6e",style:{marginBottom:2},children:Object(E.jsx)(pe,{controlsAttrs:null!==(a=null===(i=e.value)||void 0===i?void 0:i.controlsAttrs)&&void 0!==a?a:[]})})}];return Object(E.jsxs)(b.a,{style:{minHeight:0,height:"100vh"},children:[Object(E.jsxs)(ge,{theme:"light",trigger:null,collapsible:!0,collapsed:y,style:{height:"100vh"},children:[Object(E.jsx)("div",{style:{height:32,margin:16,background:"#4d5c6a",textAlign:"center",lineHeight:"32px",color:"#fff",fontWeight:600},children:"\u8868\u5355\u8bbe\u8ba1\u5668"}),Object(E.jsx)(I,{onSelected:function(t){var n,l,o,a,i,c,r,s,d,u,b,j,h,p,f,g,v,x,O,y,C,A,T,w,E,I,B,S,_,F,z=(new Date).valueOf();if(k(t+"_"+z),e.onChange&&"function"===typeof e.onChange)switch(t){case"input":e.onChange({html:null===(n=e.value)||void 0===n?void 0:n.html,controlsAttrs:[].concat(Object(m.a)(null!==(l=null===(o=e.value)||void 0===o?void 0:o.controlsAttrs)&&void 0!==l?l:[]),[{name:t+"_"+z,border:[],text:"",describe:"\u6587\u672c\u6846",dataType:"text",format:void 0,autoWidth:!1,width:100,height:22,align:"left",bold:!1,italic:!1,color:"#000000",fontFamily:"\u5b8b\u4f53",fontSize:16,allowedModify:!0}])});break;case"richInput":e.onChange({html:null===(a=e.value)||void 0===a?void 0:a.html,controlsAttrs:[].concat(Object(m.a)(null!==(i=null===(c=e.value)||void 0===c?void 0:c.controlsAttrs)&&void 0!==i?i:[]),[{name:t+"_"+z,border:[],text:"",describe:"\u591a\u884c\u6587\u672c\u6846",autoWidth:!1,width:150,height:100,align:"left",bold:!1,italic:!1,color:"#000000",fontFamily:"\u5b8b\u4f53",fontSize:16,editControl:"textarea",allowedModify:!0}])});break;case"radio":e.onChange({html:null===(r=e.value)||void 0===r?void 0:r.html,controlsAttrs:[].concat(Object(m.a)(null!==(s=null===(d=e.value)||void 0===d?void 0:d.controlsAttrs)&&void 0!==s?s:[]),[{name:t+"_"+z,border:[],describe:"\u5355\u9009",autoWidth:!1,width:100,height:22,align:"left",bold:!1,italic:!1,color:"#000000",fontFamily:"\u5b8b\u4f53",fontSize:16,options:void 0,layout:"horizontal",allowedModify:!0}])});break;case"checkBox":e.onChange({html:null===(u=e.value)||void 0===u?void 0:u.html,controlsAttrs:[].concat(Object(m.a)(null!==(b=null===(j=e.value)||void 0===j?void 0:j.controlsAttrs)&&void 0!==b?b:[]),[{name:t+"_"+z,border:[],describe:"\u590d\u9009",autoWidth:!1,width:100,height:22,align:"left",bold:!1,italic:!1,color:"#000000",fontFamily:"\u5b8b\u4f53",fontSize:16,options:void 0,layout:"horizontal",allowedModify:!0}])});break;case"listBox":e.onChange({html:null===(h=e.value)||void 0===h?void 0:h.html,controlsAttrs:[].concat(Object(m.a)(null!==(p=null===(f=e.value)||void 0===f?void 0:f.controlsAttrs)&&void 0!==p?p:[]),[{name:t+"_"+z,border:[],describe:"\u4e0b\u62c9\u9009\u62e9\u5668",autoWidth:!1,width:100,height:22,align:"left",bold:!1,italic:!1,color:"#000000",fontFamily:"\u5b8b\u4f53",fontSize:16,options:void 0,multiple:!1,layout:"horizontal",allowedModify:!0}])});break;case"compute":e.onChange({html:null===(g=e.value)||void 0===g?void 0:g.html,controlsAttrs:[].concat(Object(m.a)(null!==(v=null===(x=e.value)||void 0===x?void 0:x.controlsAttrs)&&void 0!==v?v:[]),[{name:t+"_"+z,border:[],describe:"\u8ba1\u7b97\u63a7\u4ef6",dataType:"integer",format:void 0,autoWidth:!1,width:100,height:22,align:"left",bold:!1,italic:!1,color:"#000000",fontFamily:"\u5b8b\u4f53",fontSize:16,allowedModify:!0,roundType:"round",computeRule:[]}])});break;case"macro":e.onChange({html:null===(O=e.value)||void 0===O?void 0:O.html,controlsAttrs:[].concat(Object(m.a)(null!==(y=null===(C=e.value)||void 0===C?void 0:C.controlsAttrs)&&void 0!==y?y:[]),[{name:t+"_"+z,border:[],describe:"\u5b8f\u63a7\u4ef6",autoWidth:!1,width:100,height:22,align:"left",bold:!1,italic:!1,color:"#000000",fontFamily:"\u5b8b\u4f53",fontSize:16,options:void 0,multiple:!1,layout:"horizontal",controlType:void 0,allowedModify:!1,macroConfig:void 0}])});break;case"detailTable":e.onChange({html:null===(A=e.value)||void 0===A?void 0:A.html,controlsAttrs:[].concat(Object(m.a)(null!==(T=null===(w=e.value)||void 0===w?void 0:w.controlsAttrs)&&void 0!==T?T:[]),[{name:t+"_"+z,describe:"\u660e\u7ec6\u8868",fieldTR:void 0}])});break;case"treeListBox":e.onChange({html:null===(E=e.value)||void 0===E?void 0:E.html,controlsAttrs:[].concat(Object(m.a)(null!==(I=null===(B=e.value)||void 0===B?void 0:B.controlsAttrs)&&void 0!==I?I:[]),[{name:t+"_"+z,border:[],describe:"\u7ea7\u8054\u9009\u62e9\u5668",autoWidth:!1,width:100,height:22,align:"left",bold:!1,italic:!1,color:"#000000",fontFamily:"\u5b8b\u4f53",fontSize:16,options:void 0,allowedModify:!0}])});break;case"image":e.onChange({html:null===(S=e.value)||void 0===S?void 0:S.html,controlsAttrs:[].concat(Object(m.a)(null!==(_=null===(F=e.value)||void 0===F?void 0:F.controlsAttrs)&&void 0!==_?_:[]),[{name:t+"_"+z,border:[],describe:"\u56fe\u7247",autoWidth:!1,width:100,height:100}])})}}})]}),Object(E.jsxs)(b.a,{className:"site-layout",style:{minHeight:0,height:"100vh"},children:[Object(E.jsx)(fe,{style:{padding:0,backgroundColor:"#fff",boxShadow:"1px 1px 4px rgb(0 21 41 / 8%)",position:"relative",zIndex:10},children:Object(E.jsxs)("div",{style:{padding:"0 24px"},children:[o.a.createElement(y?f.a:g.a,{style:{fontSize:18,lineHeight:"64px",cursor:"pointer",transition:"color 0.3s"},onClick:function(){return C(!y)}}),Object(E.jsx)(p.b,{style:{float:"right"},children:e.extra})]})}),Object(E.jsx)(ve,{style:{minHeight:"auto",height:"calc(100vh - 68px)"},children:Object(E.jsxs)(b.a,{className:"site-layout",style:{minHeight:"auto",height:"calc(100vh - 68px)"},children:[Object(E.jsx)(je,{controlType:w,onControlSelect:function(t,n){var l,o,a,i,c,r;t&&"detailTable"==t.id.split("_")[0]&&(n&&"TR"==n.tagName?e.onChange&&"function"===typeof e.onChange&&e.onChange({html:null===(l=e.value)||void 0===l?void 0:l.html,controlsAttrs:(null!==(o=null===(a=e.value)||void 0===a?void 0:a.controlsAttrs)&&void 0!==o?o:[]).map((function(e){return Object(u.a)(Object(u.a)({},e),t.id==e.name?{fieldTR:n}:{})}))}):e.onChange&&"function"===typeof e.onChange&&e.onChange({html:null===(i=e.value)||void 0===i?void 0:i.html,controlsAttrs:(null!==(c=null===(r=e.value)||void 0===r?void 0:r.controlsAttrs)&&void 0!==c?c:[]).map((function(e){return Object(u.a)(Object(u.a)({},e),t.id==e.name?{fieldTR:void 0}:{})}))}));N(t)},onEditorChange:function(t,n){var l,o,a,i,c;N(void 0);var r=(null!==(l=null===(o=e.value)||void 0===o?void 0:o.controlsAttrs)&&void 0!==l?l:[]).filter((function(e){return!n.map((function(e){return e.name})).includes(e.name)})),s=(null!==(a=null===(i=e.value)||void 0===i?void 0:i.controlsAttrs)&&void 0!==a?a:[]).filter((function(e){return n.map((function(e){return e.name})).includes(e.name)})),d=_.filter((function(t){var l,o;return n.map((function(e){return e.name})).includes(t.name)&&!(null!==(l=null===(o=e.value)||void 0===o?void 0:o.controlsAttrs)&&void 0!==l?l:[]).map((function(e){return e.name})).includes(t.name)}));d=d.filter((function(e){var t;return!(null===(t=s)||void 0===t?void 0:t.map((function(e){return e.name})).includes(e.name))})),s=[].concat(Object(m.a)(null!==(c=s)&&void 0!==c?c:[]),Object(m.a)(d)),F([].concat(Object(m.a)(_.filter((function(e){return!d.map((function(e){return e.name})).includes(e.name)}))),Object(m.a)(null!==r&&void 0!==r?r:[])));var b=document.getElementsByClassName("tox-edit-area__iframe");s=s.map((function(e){var t=b[0].contentWindow.document.getElementById(e.name),l=n.find((function(t){return t.name==e.name}));return Object(u.a)(Object(u.a)({},e),{},{belongTo:l.belongTo},"window"!=l.belongTo&&function(e){for(var t=e.parentElement;t;){if("BODY"===t.tagName)return;if("TR"===t.tagName&&t.getAttribute("detail-field"))return t;t=t.parentElement}}(t)?{tableField:!0}:{})})),e.onChange&&"function"===typeof e.onChange&&e.onChange({html:t,controlsAttrs:s})}}),Object(E.jsx)(re,{controlAttrs:D?(null!==(c=null===(r=e.value)||void 0===r?void 0:r.controlsAttrs)&&void 0!==c?c:[]).find((function(e){return e.name==D.id})):void 0,controlsAttrs:null!==(s=null===(v=e.value)||void 0===v?void 0:v.controlsAttrs)&&void 0!==s?s:[],controlElement:D,macroControlsConfig:W,onValuesChange:function(t){var n;if(D&&(null===(n=e.value)||void 0===n?void 0:n.controlsAttrs)){var l,o,a,i=null===(l=e.value)||void 0===l?void 0:l.controlsAttrs.find((function(e){return e.name==t.name}));if("boolean"===typeof t.fieldTR){var c,r,s=null===(c=e.value)||void 0===c?void 0:c.controlsAttrs.map((function(e){return Object(u.a)(Object(u.a)({},e),me(D.getElementsByClassName("mceTmpl")).includes(e.name)?{tableField:void 0}:{})}));if(t.fieldTR&&(s=s.map((function(e){return Object(u.a)(Object(u.a)({},e),me(i.fieldTR.getElementsByClassName("mceTmpl")).includes(e.name)?{tableField:!0}:{})}))),e.onChange&&"function"===typeof e.onChange)e.onChange({html:null===(r=e.value)||void 0===r?void 0:r.html,controlsAttrs:s});return}if(e.onChange&&"function"===typeof e.onChange)e.onChange({html:null===(o=e.value)||void 0===o?void 0:o.html,controlsAttrs:[].concat(Object(m.a)(null===(a=e.value)||void 0===a?void 0:a.controlsAttrs.filter((function(e){return e.name!=t.name}))),[Object(u.a)(Object(u.a)({},i),t)])})}}})]})})]})]})},Oe=n(475);var ye=function(){var e=Object(l.useState)({controlsAttrs:[],html:""}),t=Object(d.a)(e,2),n=t[0],o=t[1];return Object(E.jsx)(xe,{value:n,onChange:function(e){return o(e)},extra:Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)($.a,{onClick:Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n);case 1:case"end":return e.stop()}}),e)}))),children:[Object(E.jsx)(Oe.a,{}),"\u4fdd\u5b58"]})})})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,476)).then((function(t){var n=t.getCLS,l=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),l(e),o(e),a(e),i(e)}))};i.a.render(Object(E.jsx)(o.a.StrictMode,{children:Object(E.jsx)(ye,{})}),document.getElementById("root")),Ce()}},[[444,1,2]]]);
//# sourceMappingURL=main.e0cf2f16.chunk.js.map